---
// LatestEntry.astro
import { getCollection } from "astro:content";
import Card from "./Card.astro";

const { collection } = Astro.props;
const entries = await getCollection(collection);

// 1. Check if entries exist before sorting
const latestEntry =
  entries && entries.length > 0
    ? entries.sort(
        (a, b) => b.data.created.getTime() - a.data.created.getTime()
      )[0]
    : null;
---

{
  latestEntry ? (
    <Card {...latestEntry} />
  ) : (
    <div class="p-4 border border-dashed border-gray-500 rounded-lg">
      <p class="text-sm text-gray-500">No entries found in {collection}.</p>
    </div>
  )
}
